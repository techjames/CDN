
 /* Depends: jquery.ui.widget.js, jquery.ui.mouse.js */
!function(t){"function"==typeof define&&define.amd?define(["jquery","jquery.ui"],t):t(jQuery)}(function(o){if(o.support.touch="ontouchstart"in document||"ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints,o.support.touch&&o.ui.mouse){var n,t=o.ui.mouse.prototype,e=t._mouseInit,u=t._mouseDestroy;t._touchStart=function(t){var o=this;!n&&o._mouseCapture(t.originalEvent.changedTouches[0])&&(n=!0,o._startPos=c(t),o._touchMoved=!1,this._startedMove=t.timeStamp,i(t,"mouseover"),i(t,"mousemove"),i(t,"mousedown"))},t._touchMove=function(t){n&&(this._touchMoved=!0,i(t,"mousemove"))},t._touchEnd=function(t){if(n){i(t,"mouseup"),i(t,"mouseout");var o=t.timeStamp-this._startedMove;if(!this._touchMoved||o<500)i(t,"click");else{var e=c(t);Math.abs(e.x-this._startPos.x)<10&&Math.abs(e.y-this._startPos.y)<10&&(this._touchMoved&&"stylus"!==t.originalEvent.changedTouches[0].touchType||i(t,"click"))}n=!1}},t._mouseInit=function(){var t=this;t.element.on({touchstart:o.proxy(t,"_touchStart"),touchmove:o.proxy(t,"_touchMove"),touchend:o.proxy(t,"_touchEnd")}),e.call(t)},t._mouseDestroy=function(){var t=this;t.element.off({touchstart:o.proxy(t,"_touchStart"),touchmove:o.proxy(t,"_touchMove"),touchend:o.proxy(t,"_touchEnd")}),u.call(t)}}function c(t){return{x:t.originalEvent.changedTouches[0].pageX,y:t.originalEvent.changedTouches[0].pageY}}function i(t,o){if(!(1<t.originalEvent.touches.length)){t.preventDefault();var e=t.originalEvent.changedTouches[0],n=document.createEvent("MouseEvents");n.initMouseEvent(o,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}}});